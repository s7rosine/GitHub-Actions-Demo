name: DevOps Pipeline

on:
  push:
    branches:
      - main

jobs:
  checkout:
    name: Stage 1 - Checkout
    runs-on: [self-hosted,s8]
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

  test:
    name: build image and push into dockerhub
    runs-on: [self-hosted,s8]
    needs: checkout
    steps:
      - name: Testing the Code
        run: |
          pwd
          ls 